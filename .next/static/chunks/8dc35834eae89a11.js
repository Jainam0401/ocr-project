(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),l=e.i(71645);function s(){let[e,s]=(0,l.useState)(""),[a,r]=(0,l.useState)(!1),[d,i]=(0,l.useState)(""),[n,c]=(0,l.useState)(null),[o,x]=(0,l.useState)(0),[m,u]=(0,l.useState)(""),[g,b]=(0,l.useState)("eng"),h=async e=>{e.preventDefault(),i(""),s(""),c(null),x(0),u("");let t=e.currentTarget.elements.namedItem("file")?.files?.[0];if(!t)return;r(!0),u("Uploading PDF...");let l=new FormData;l.append("file",t),l.append("language",g);try{x(10),u("Processing PDF...");let e=await fetch("/api/extract-text",{method:"POST",body:l}),t=await e.json();t.success?(x(100),s(t.text||"No text found"),c(t.metadata),u("Extraction completed successfully")):(i(t.error||"Failed to extract text"),x(0),u(""))}catch(e){i("Failed to upload file: "+e.message),x(0),u("")}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"PDF OCR Text Extractor"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Extract text from PDFs using OCR"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Language"}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border text-black border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:a,children:[(0,t.jsx)("option",{value:"eng",children:"English"}),(0,t.jsx)("option",{value:"hin",children:"Hindi"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload PDF File"}),(0,t.jsx)("input",{type:"file",name:"file",accept:".pdf",required:!0,disabled:a,className:"w-full text-black px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-blue-50 file:text-blue-700"})]}),(0,t.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-all disabled:opacity-50",children:a?"Processing...":"Extract Text"})]}),o>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all",style:{width:`${o}%`}})}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:m})]}),d&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-700 font-medium",children:d})}),n&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"Document Info"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-green-700",children:[(0,t.jsxs)("div",{children:["File: ",n.fileName]}),(0,t.jsxs)("div",{children:["Size: ",n.fileSize]}),(0,t.jsxs)("div",{children:["Pages: ",n.totalPages]}),(0,t.jsxs)("div",{children:["Language: ",n.language]})]})]})]}),e&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Extracted Text"}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e),alert("Text copied to clipboard.")},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg",children:"Copy"}),(0,t.jsx)("button",{onClick:()=>{let t=new Blob([e],{type:"text/plain"}),l=URL.createObjectURL(t),s=document.createElement("a");s.href=l,s.download="extracted-text.txt",s.click(),URL.revokeObjectURL(l)},className:"px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg",children:"Download"})]})]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 max-h-[600px] overflow-y-auto",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 font-mono",children:e})}),(0,t.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Total characters: ",e.length]})]})]})})}e.s(["default",()=>s])}]);